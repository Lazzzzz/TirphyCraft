package com.laz.tirphycraft.event;

import com.laz.tirphycraft.entity.entityClass.boss.EntityQueenCreeper;
import com.laz.tirphycraft.entity.entityClass.projectile.EntityMeteorite;

import net.minecraft.block.Block;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Vec3d;
import net.minecraft.world.World;
import net.minecraftforge.event.entity.player.PlayerInteractEvent;
import net.minecraftforge.event.world.WorldEvent;
import net.minecraftforge.fml.common.Mod.EventBusSubscriber;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent.PlayerTickEvent;

@EventBusSubscriber
public class LightningNoxis {

	@SubscribeEvent
	public static void getItem(PlayerTickEvent event) {
		World world = event.player.world;
		Vec3d vec = event.player.getLookVec();

		if (world.getWorldTime() % 100 == 0 && event.player.dimension == 120 && !world.isRemote && world.rand.nextInt(10) == 0) {
			EntityMeteorite e = new EntityMeteorite(world);
			e.setPosition(event.player.posX + 50 * -vec.x, event.player.posY + 100, event.player.posZ + 50 * -vec.z);

			e.setVel(5 * vec.x, -5, 5 * vec.z);

			if (!world.isRemote) {
				world.spawnEntity(e);
			}

		}

	}
	
}