package com.laz.tirphycraft.objects.blocks.customBlock.laputa.crystal;

import java.util.Random;

import javax.annotation.Nullable;

import com.laz.tirphycraft.objects.base.BlockBase;
import com.laz.tirphycraft.objects.base.BlockCrystalBase;

import net.minecraft.block.SoundType;
import net.minecraft.block.material.Material;
import net.minecraft.block.state.IBlockState;
import net.minecraft.entity.Entity;
import net.minecraft.util.BlockRenderLayer;
import net.minecraft.util.EnumParticleTypes;
import net.minecraft.util.math.AxisAlignedBB;
import net.minecraft.util.math.BlockPos;
import net.minecraft.world.IBlockAccess;
import net.minecraft.world.World;
import net.minecraftforge.fml.relauncher.Side;
import net.minecraftforge.fml.relauncher.SideOnly;

public class BlockBlueCrystal extends BlockCrystalBase {

	public BlockBlueCrystal() {
		super("laputa_blue_crystal");
	}

	@Override
	public void updateTick(World worldIn, BlockPos pos, IBlockState state, Random rand) {
		   {
		        Random random = worldIn.rand;
		        double d0 = 0.0625D;

		        for (int i = 0; i < 60; ++i)
		        {
		            double d1 = (double)((float)pos.getX() + random.nextFloat());
		            double d2 = (double)((float)pos.getY() + random.nextFloat());
		            double d3 = (double)((float)pos.getZ() + random.nextFloat());

		            if (i == 0 && !worldIn.getBlockState(pos.up()).isOpaqueCube())
		            {
		                d2 = (double)pos.getY() + 0.0625D + 1.0D;
		            }

		            if (i == 1 && !worldIn.getBlockState(pos.down()).isOpaqueCube())
		            {
		                d2 = (double)pos.getY() - 0.0625D;
		            }

		            if (i == 2 && !worldIn.getBlockState(pos.south()).isOpaqueCube())
		            {
		                d3 = (double)pos.getZ() + 0.0625D + 1.0D;
		            }

		            if (i == 3 && !worldIn.getBlockState(pos.north()).isOpaqueCube())
		            {
		                d3 = (double)pos.getZ() - 0.0625D;
		            }

		            if (i == 4 && !worldIn.getBlockState(pos.east()).isOpaqueCube())
		            {
		                d1 = (double)pos.getX() + 0.0625D + 1.0D;
		            }

		            if (i == 5 && !worldIn.getBlockState(pos.west()).isOpaqueCube())
		            {
		                d1 = (double)pos.getX() - 0.0625D;
		            }

		            if (d1 < (double)pos.getX() || d1 > (double)(pos.getX() + 1) || d2 < 0.0D || d2 > (double)(pos.getY() + 1) || d3 < (double)pos.getZ() || d3 > (double)(pos.getZ() + 1))
		            {
		                worldIn.spawnParticle(EnumParticleTypes.REDSTONE, d1, d2, d3, 1.0D, 0.0D, 0.0D);
		            }
		        }
		    }
		super.updateTick(worldIn, pos, state, rand);
	}

}
