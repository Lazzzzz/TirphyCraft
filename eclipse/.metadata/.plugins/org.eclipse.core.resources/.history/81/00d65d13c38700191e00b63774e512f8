package com.laz.tirphycraft.util.loot;

import java.util.Random;

import com.laz.tirphycraft.init.BlockInit;
import com.laz.tirphycraft.init.ItemInit;

import net.minecraft.block.Block;
import net.minecraft.entity.item.EntityItem;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.util.math.BlockPos;
import net.minecraft.world.World;

public class SetLoot {

	private final ItemStack item;
	private final int chance;
	private final int amount;

	public SetLoot(Item item, int chance, int amount) {
		this.item = new ItemStack(item, 1);
		this.chance = chance;
		this.amount = amount;
	}

	public SetLoot(Block block, int chance, int amount) {
		this.item = new ItemStack(block, 1);
		this.chance = chance;
		this.amount = amount;
	}

	public void isPick(World worldIn, Random rand, BlockPos pos) {
		int j;
		if (!worldIn.isRemote) {
			if (rand.nextInt(101) < this.chance)
				j = rand.nextInt(this.amount) + 1;

			for (int i = 0; i < j; i++) {
				worldIn.spawnEntity(new EntityItem(worldIn, pos.getX(), pos.getY(), pos.getZ(), this.item));
			}
		}
	}

}
